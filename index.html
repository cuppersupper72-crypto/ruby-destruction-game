<!DOCTYPE html>
<html>
<head>
  <title>Ruby: Black Hole Saga</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: black;
      color: white;
      padding: 20px;
      transition: background 1s;
    }

    #ruby {
      font-size: 70px;
      margin: 20px;
      transition: transform 0.3s;
    }

    button {
      margin: 6px;
      padding: 10px 15px;
      border-radius: 8px;
      border: none;
      font-size: 16px;
      cursor: pointer;
    }

    #hint {
      margin-top: 15px;
      font-style: italic;
      color: #ffaaaa;
    }

    .shake {
      animation: shake 0.5s infinite;
    }

    @keyframes shake {
      0% { transform: translate(2px, 2px); }
      25% { transform: translate(-2px, 2px); }
      50% { transform: translate(2px, -2px); }
      75% { transform: translate(-2px, -2px); }
      100% { transform: translate(2px, 2px); }
    }

    .lightning {
      background: white !important;
      color: black !important;
    }
  </style>
</head>
<body>

<h1>ğŸ’ The Indestructible Ruby</h1>
<div id="ruby">ğŸ’</div>
<p id="message">Nothing can destroy the Ruby...</p>

<h3>Combine Elements</h3>

<button onclick="add('gravity')">ğŸŒŒ Gravity</button>
<button onclick="add('dark')">ğŸŒ‘ Dark Matter</button>
<button onclick="add('energy')">âš¡ Energy</button>
<button onclick="add('fire')">ğŸ”¥ Fire</button>

<br>
<button onclick="combine()">Combine</button>

<p id="hint"></p>

<script>
let selected = [];
let stage = 1;
let robotHealth = 100;

function add(element){
  if(selected.length < 2){
    selected.push(element);
    document.getElementById("message").innerText =
      "Selected: " + selected.join(" + ");
  }
}

function combine(){
  if(selected.length < 2){
    showHint("You must combine two elements.");
    return;
  }

  let combo = selected.sort().join("-");

  if(stage === 1){
    if(combo === "dark-gravity"){
      createBlackHole();
    } else {
      showHint("The Ruby resists... maybe something cosmic?");
    }
  }

  selected = [];
}

function showHint(text){
  document.getElementById("hint").innerText = text;
}

function createBlackHole(){
  showHint("ğŸ•³ï¸ A BLACK HOLE FORMS!");
  let ruby = document.getElementById("ruby");

  ruby.classList.add("shake");

  setTimeout(() => {
    document.body.classList.add("lightning");
  }, 500);

  setTimeout(() => {
    ruby.innerText = "ğŸ•³ï¸";
    document.body.classList.remove("lightning");
  }, 1000);

  setTimeout(() => {
    stage = 2;
    nextPlanet();
  }, 2000);
}

function nextPlanet(){
  document.body.style.background = "darkblue";
  document.getElementById("ruby").innerText = "ğŸª";
  document.getElementById("message").innerText =
    "You are on a distant planet. Evil robots attack!";
  document.getElementById("hint").innerText = "";

  document.body.innerHTML += `
    <h3>Build Your Defense</h3>
    <button onclick="buildPlasma()">ğŸ”« Build Plasma Cannon</button>
    <button onclick="buildArmy()">ğŸª– Gather Army</button>
    <div id="battle"></div>
  `;
}

function buildPlasma(){
  document.getElementById("battle").innerHTML =
    "ğŸ”« Plasma Cannon ready! Robots weakened!";
  robotHealth -= 50;
  checkBattle();
}

function buildArmy(){
  document.getElementById("battle").innerHTML =
    "ğŸª– Army joins the fight!";
  robotHealth -= 50;
  checkBattle();
}

function checkBattle(){
  if(robotHealth <= 0){
    document.getElementById("battle").innerHTML =
      "ğŸ† You defeated the robots and saved the planet!";
  }
}
</script>

</body>
</html>
